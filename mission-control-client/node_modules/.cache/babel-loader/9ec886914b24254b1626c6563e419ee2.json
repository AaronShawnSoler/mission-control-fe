{"ast":null,"code":"import { useRef as r, useReducer as n, useEffect as e, useLayoutEffect as u } from \"react\";\nimport { makeSubject as t, subscribe as c } from \"wonka\";\nimport { unstable_scheduleCallback as o, unstable_getCurrentPriorityLevel as a, unstable_cancelCallback as l } from \"scheduler\";\n\nvar s = \"undefined\" == typeof window,\n    i = s ? e : u,\n    f = function (r, n, e) {\n  return d(r, n, e)[0];\n},\n    d = function (u, f, d) {\n  var w = r({\n    subject: t(),\n    value: d,\n    onValue: function (r) {\n      w.current.value = r;\n    },\n    teardown: null,\n    task: null\n  }),\n      b = n(function (r, n) {\n    return w.current.value = n, r + 1;\n  }, 0)[1];\n\n  if (null === w.current.teardown) {\n    var v = c(function (r) {\n      return w.current.onValue(r);\n    })(u(w.current.subject.source)).unsubscribe;\n    w.current.subject.next(f), s ? v() : (w.current.teardown = v, w.current.task = o(a(), w.current.teardown));\n  }\n\n  function j() {\n    null !== w.current.teardown && w.current.teardown();\n  }\n\n  return i(function () {\n    return null !== w.current.task && l(w.current.task), j;\n  }, []), e(function () {\n    var r = w.current.onValue !== b;\n    w.current.onValue = b, null === w.current.teardown && (w.current.teardown = c(b)(u(w.current.subject.source)).unsubscribe), r || w.current.subject.next(f);\n  }, [f]), [w.current.value, w.current.subject.next];\n};\n\nexport { d as useOperator, f as useOperatorValue };","map":{"version":3,"sources":["/home/nil/Projects/mission-control-fe/mission-control-client/node_modules/react-wonka/dist/react-wonka.es.js"],"names":["useRef","r","useReducer","n","useEffect","e","useLayoutEffect","u","makeSubject","t","subscribe","c","unstable_scheduleCallback","o","unstable_getCurrentPriorityLevel","a","unstable_cancelCallback","l","s","window","i","f","d","w","subject","value","onValue","current","teardown","task","b","v","source","unsubscribe","next","j","useOperator","useOperatorValue"],"mappings":"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","sourcesContent":["import{useRef as r,useReducer as n,useEffect as e,useLayoutEffect as u}from\"react\";import{makeSubject as t,subscribe as c}from\"wonka\";import{unstable_scheduleCallback as o,unstable_getCurrentPriorityLevel as a,unstable_cancelCallback as l}from\"scheduler\";var s=\"undefined\"==typeof window,i=s?e:u,f=function(r,n,e){return d(r,n,e)[0]},d=function(u,f,d){var w=r({subject:t(),value:d,onValue:function(r){w.current.value=r},teardown:null,task:null}),b=n((function(r,n){return w.current.value=n,r+1}),0)[1];if(null===w.current.teardown){var v=c((function(r){return w.current.onValue(r)}))(u(w.current.subject.source)).unsubscribe;w.current.subject.next(f),s?v():(w.current.teardown=v,w.current.task=o(a(),w.current.teardown))}function j(){null!==w.current.teardown&&w.current.teardown()}return i((function(){return null!==w.current.task&&l(w.current.task),j}),[]),e((function(){var r=w.current.onValue!==b;w.current.onValue=b,null===w.current.teardown&&(w.current.teardown=c(b)(u(w.current.subject.source)).unsubscribe),r||w.current.subject.next(f)}),[f]),[w.current.value,w.current.subject.next]};export{d as useOperator,f as useOperatorValue};\n"]},"metadata":{},"sourceType":"module"}