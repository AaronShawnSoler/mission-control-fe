{"ast":null,"code":"import { _ as _extends, d as createRequest } from \"./index-9bb95fa6.js\";\nexport { C as CombinedError, d as createRequest, f as formatDocument, b as makeErrorResult, m as makeResult, s as stringifyVariables } from \"./index-9bb95fa6.js\";\nimport { toPromise, scan, switchMap, fromValue, concat, map } from \"wonka\";\nimport { createClient } from \"./core.js\";\nexport { Client, cacheExchange, composeExchanges, createClient, debugExchange, dedupExchange, defaultExchanges, fallbackExchangeIO, fetchExchange, ssrExchange, subscriptionExchange } from \"./core.js\";\nimport { createContext, useContext, useState, useCallback, useMemo, useRef } from \"react\";\nimport { useOperator } from \"react-wonka\";\nvar defaultClient = createClient({\n  url: \"/graphql\"\n});\nvar Context = createContext(defaultClient);\nvar Provider = Context.Provider;\nvar Consumer = Context.Consumer;\nvar hasWarnedAboutDefault = !1;\n\nvar useClient = function () {\n  var client = useContext(Context);\n\n  if (\"production\" !== process.env.NODE_ENV && client === defaultClient && !hasWarnedAboutDefault) {\n    hasWarnedAboutDefault = !0;\n    console.warn(\"Default Client: No client has been specified using urql's Provider.This means that urql will be falling back to defaults including making requests to `/graphql`.\\nIf that's not what you want, please create a client and add a Provider.\");\n  }\n\n  return client;\n};\n\nvar initialState = {\n  fetching: !1,\n  stale: !1,\n  error: void 0,\n  data: void 0,\n  extensions: void 0\n};\n\nvar useMutation = function (query) {\n  var client = useClient();\n  var ref = useState(initialState);\n  var setState = ref[1];\n\n  function _ref(result) {\n    setState({\n      fetching: !1,\n      stale: !!result.stale,\n      data: result.data,\n      error: result.error,\n      extensions: result.extensions\n    });\n    return result;\n  }\n\n  return [ref[0], useCallback(function (variables, context) {\n    setState(_extends(_extends({}, initialState), {\n      fetching: !0\n    }));\n    var request = createRequest(query, variables);\n    return toPromise(client.executeMutation(request, context || {})).then(_ref);\n  }, [client, query, setState])];\n};\n\nvar useRequest = function (query, variables) {\n  var prev = useRef(void 0);\n  return useMemo(function () {\n    var request = createRequest(query, variables);\n\n    if (void 0 !== prev.current && prev.current.key === request.key) {\n      return prev.current;\n    } else {\n      prev.current = request;\n      return request;\n    }\n  }, [query, variables]);\n};\n\nfunction _ref(result, partial) {\n  return _extends(_extends(_extends({}, result), {\n    stale: !1\n  }), partial);\n}\n\nfunction _ref2(ref) {\n  return {\n    fetching: !1,\n    stale: !!ref.stale,\n    data: ref.data,\n    error: ref.error,\n    extensions: ref.extensions\n  };\n}\n\nfunction _ref3(query$) {\n  if (!query$) {\n    return fromValue({\n      fetching: !1\n    });\n  }\n\n  return concat([fromValue({\n    fetching: !0\n  }), map(_ref2)(query$), fromValue({\n    fetching: !1\n  })]);\n}\n\nfunction _ref4(query$$) {\n  return scan(_ref, initialState)(switchMap(_ref3)(query$$));\n}\n\nvar useQuery = function (args) {\n  var client = useClient();\n  var request = useRequest(args.query, args.variables);\n  var makeQuery$ = useCallback(function (opts) {\n    return client.executeQuery(request, _extends(_extends({\n      requestPolicy: args.requestPolicy,\n      pollInterval: args.pollInterval\n    }, args.context), opts));\n  }, [client, request, args.requestPolicy, args.pollInterval, args.context]);\n  var ref = useOperator(_ref4, useMemo(function () {\n    return args.pause ? null : makeQuery$();\n  }, [args.pause, makeQuery$]), initialState);\n  var update = ref[1];\n  return [ref[0], useCallback(function (opts) {\n    return update(makeQuery$(opts));\n  }, [update, makeQuery$])];\n};\n\nfunction _ref2$1(ref) {\n  return {\n    fetching: !0,\n    stale: !!ref.stale,\n    data: ref.data,\n    error: ref.error,\n    extensions: ref.extensions\n  };\n}\n\nfunction _ref3$1(subscription$) {\n  if (!subscription$) {\n    return fromValue({\n      fetching: !1\n    });\n  }\n\n  return concat([fromValue({\n    fetching: !0\n  }), map(_ref2$1)(subscription$), fromValue({\n    fetching: !1\n  })]);\n}\n\nvar useSubscription = function (args, handler) {\n  var client = useClient();\n  var handlerRef = useRef(handler);\n  handlerRef.current = handler;\n  var request = useRequest(args.query, args.variables);\n  var makeSubscription$ = useCallback(function (opts) {\n    return client.executeSubscription(request, _extends(_extends({}, args.context), opts));\n  }, [client, request, args.context]);\n\n  function _ref(result, partial) {\n    var handler = handlerRef.current;\n    var data = void 0 !== partial.data ? \"function\" == typeof handler ? handler(result.data, partial.data) : partial.data : result.data;\n    return _extends(_extends(_extends(_extends({}, result), {\n      stale: !1\n    }), partial), {\n      data: data\n    });\n  }\n\n  var ref = useOperator(function (subscription$$) {\n    return scan(_ref, initialState)(switchMap(_ref3$1)(subscription$$));\n  }, useMemo(function () {\n    return args.pause ? null : makeSubscription$();\n  }, [args.pause, makeSubscription$]), initialState);\n  var update = ref[1];\n  return [ref[0], useCallback(function (opts) {\n    return update(makeSubscription$(opts));\n  }, [update, makeSubscription$])];\n};\n\nfunction Mutation(props) {\n  var ref = useMutation(props.query);\n  var executeMutation = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeMutation: executeMutation\n  }));\n}\n\nfunction Query(props) {\n  var ref = useQuery(props);\n  var executeQuery = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeQuery: executeQuery\n  }));\n}\n\nfunction Subscription(props) {\n  var ref = useSubscription(props, props.handler);\n  var executeSubscription = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeSubscription: executeSubscription\n  }));\n}\n\nexport { Consumer, Context, Mutation, Provider, Query, Subscription, useClient, useMutation, useQuery, useSubscription };","map":{"version":3,"sources":["/home/nil/Projects/mission-control-fe/mission-control-client/node_modules/urql/dist/es/urql.js"],"names":["_","_extends","d","createRequest","C","CombinedError","f","formatDocument","b","makeErrorResult","m","makeResult","s","stringifyVariables","toPromise","scan","switchMap","fromValue","concat","map","createClient","Client","cacheExchange","composeExchanges","debugExchange","dedupExchange","defaultExchanges","fallbackExchangeIO","fetchExchange","ssrExchange","subscriptionExchange","createContext","useContext","useState","useCallback","useMemo","useRef","useOperator","defaultClient","url","Context","Provider","Consumer","hasWarnedAboutDefault","useClient","client","process","env","NODE_ENV","console","warn","initialState","fetching","stale","error","data","extensions","useMutation","query","ref","setState","_ref","result","variables","context","request","executeMutation","then","useRequest","prev","current","key","partial","_ref2","_ref3","query$","_ref4","query$$","useQuery","args","makeQuery$","opts","executeQuery","requestPolicy","pollInterval","pause","update","_ref2$1","_ref3$1","subscription$","useSubscription","handler","handlerRef","makeSubscription$","executeSubscription","subscription$$","Mutation","props","children","Query","Subscription"],"mappings":"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","sourcesContent":["import { _ as _extends, d as createRequest } from \"./index-9bb95fa6.js\";\nexport { C as CombinedError, d as createRequest, f as formatDocument, b as makeErrorResult, m as makeResult, s as stringifyVariables } from \"./index-9bb95fa6.js\";\nimport { toPromise, scan, switchMap, fromValue, concat, map } from \"wonka\";\nimport { createClient } from \"./core.js\";\nexport { Client, cacheExchange, composeExchanges, createClient, debugExchange, dedupExchange, defaultExchanges, fallbackExchangeIO, fetchExchange, ssrExchange, subscriptionExchange } from \"./core.js\";\nimport { createContext, useContext, useState, useCallback, useMemo, useRef } from \"react\";\nimport { useOperator } from \"react-wonka\";\nvar defaultClient = createClient({\n  url: \"/graphql\"\n});\nvar Context = createContext(defaultClient);\nvar Provider = Context.Provider;\nvar Consumer = Context.Consumer;\nvar hasWarnedAboutDefault = !1;\n\nvar useClient = function () {\n  var client = useContext(Context);\n\n  if (\"production\" !== process.env.NODE_ENV && client === defaultClient && !hasWarnedAboutDefault) {\n    hasWarnedAboutDefault = !0;\n    console.warn(\"Default Client: No client has been specified using urql's Provider.This means that urql will be falling back to defaults including making requests to `/graphql`.\\nIf that's not what you want, please create a client and add a Provider.\");\n  }\n\n  return client;\n};\n\nvar initialState = {\n  fetching: !1,\n  stale: !1,\n  error: void 0,\n  data: void 0,\n  extensions: void 0\n};\n\nvar useMutation = function (query) {\n  var client = useClient();\n  var ref = useState(initialState);\n  var setState = ref[1];\n\n  function _ref(result) {\n    setState({\n      fetching: !1,\n      stale: !!result.stale,\n      data: result.data,\n      error: result.error,\n      extensions: result.extensions\n    });\n    return result;\n  }\n\n  return [ref[0], useCallback(function (variables, context) {\n    setState(_extends(_extends({}, initialState), {\n      fetching: !0\n    }));\n    var request = createRequest(query, variables);\n    return toPromise(client.executeMutation(request, context || {})).then(_ref);\n  }, [client, query, setState])];\n};\n\nvar useRequest = function (query, variables) {\n  var prev = useRef(void 0);\n  return useMemo(function () {\n    var request = createRequest(query, variables);\n\n    if (void 0 !== prev.current && prev.current.key === request.key) {\n      return prev.current;\n    } else {\n      prev.current = request;\n      return request;\n    }\n  }, [query, variables]);\n};\n\nfunction _ref(result, partial) {\n  return _extends(_extends(_extends({}, result), {\n    stale: !1\n  }), partial);\n}\n\nfunction _ref2(ref) {\n  return {\n    fetching: !1,\n    stale: !!ref.stale,\n    data: ref.data,\n    error: ref.error,\n    extensions: ref.extensions\n  };\n}\n\nfunction _ref3(query$) {\n  if (!query$) {\n    return fromValue({\n      fetching: !1\n    });\n  }\n\n  return concat([fromValue({\n    fetching: !0\n  }), map(_ref2)(query$), fromValue({\n    fetching: !1\n  })]);\n}\n\nfunction _ref4(query$$) {\n  return scan(_ref, initialState)(switchMap(_ref3)(query$$));\n}\n\nvar useQuery = function (args) {\n  var client = useClient();\n  var request = useRequest(args.query, args.variables);\n  var makeQuery$ = useCallback(function (opts) {\n    return client.executeQuery(request, _extends(_extends({\n      requestPolicy: args.requestPolicy,\n      pollInterval: args.pollInterval\n    }, args.context), opts));\n  }, [client, request, args.requestPolicy, args.pollInterval, args.context]);\n  var ref = useOperator(_ref4, useMemo(function () {\n    return args.pause ? null : makeQuery$();\n  }, [args.pause, makeQuery$]), initialState);\n  var update = ref[1];\n  return [ref[0], useCallback(function (opts) {\n    return update(makeQuery$(opts));\n  }, [update, makeQuery$])];\n};\n\nfunction _ref2$1(ref) {\n  return {\n    fetching: !0,\n    stale: !!ref.stale,\n    data: ref.data,\n    error: ref.error,\n    extensions: ref.extensions\n  };\n}\n\nfunction _ref3$1(subscription$) {\n  if (!subscription$) {\n    return fromValue({\n      fetching: !1\n    });\n  }\n\n  return concat([fromValue({\n    fetching: !0\n  }), map(_ref2$1)(subscription$), fromValue({\n    fetching: !1\n  })]);\n}\n\nvar useSubscription = function (args, handler) {\n  var client = useClient();\n  var handlerRef = useRef(handler);\n  handlerRef.current = handler;\n  var request = useRequest(args.query, args.variables);\n  var makeSubscription$ = useCallback(function (opts) {\n    return client.executeSubscription(request, _extends(_extends({}, args.context), opts));\n  }, [client, request, args.context]);\n\n  function _ref(result, partial) {\n    var handler = handlerRef.current;\n    var data = void 0 !== partial.data ? \"function\" == typeof handler ? handler(result.data, partial.data) : partial.data : result.data;\n    return _extends(_extends(_extends(_extends({}, result), {\n      stale: !1\n    }), partial), {\n      data: data\n    });\n  }\n\n  var ref = useOperator(function (subscription$$) {\n    return scan(_ref, initialState)(switchMap(_ref3$1)(subscription$$));\n  }, useMemo(function () {\n    return args.pause ? null : makeSubscription$();\n  }, [args.pause, makeSubscription$]), initialState);\n  var update = ref[1];\n  return [ref[0], useCallback(function (opts) {\n    return update(makeSubscription$(opts));\n  }, [update, makeSubscription$])];\n};\n\nfunction Mutation(props) {\n  var ref = useMutation(props.query);\n  var executeMutation = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeMutation: executeMutation\n  }));\n}\n\nfunction Query(props) {\n  var ref = useQuery(props);\n  var executeQuery = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeQuery: executeQuery\n  }));\n}\n\nfunction Subscription(props) {\n  var ref = useSubscription(props, props.handler);\n  var executeSubscription = ref[1];\n  return props.children(_extends(_extends({}, ref[0]), {\n    executeSubscription: executeSubscription\n  }));\n}\n\nexport { Consumer, Context, Mutation, Provider, Query, Subscription, useClient, useMutation, useQuery, useSubscription };"]},"metadata":{},"sourceType":"module"}