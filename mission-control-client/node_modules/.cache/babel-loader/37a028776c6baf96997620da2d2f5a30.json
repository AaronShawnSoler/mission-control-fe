{"ast":null,"code":"var _jsxFileName = \"/home/nil/Projects/mission-control-fe/mission-control-client/src/middleware/Urql.jsx\";\nimport React from 'react';\nimport { Provider, Client, dedupExchange, fetchExchange } from 'urql';\nimport { cacheExchange as normalizedCache } from '@urql/exchange-graphcache';\nimport { getToken } from '../utils'; // The @urql/exchange-graphcache dependency exposes a normalized cache\n// by default, the urql client comes pre-configured with a document cache.\n\nconst cacheExchange = normalizedCache({});\nconst client = new Client({\n  url: `${process.env.REACT_APP_URQL_URL}`,\n  exchanges: [dedupExchange, cacheExchange, fetchExchange],\n  fetchOptions: () => {\n    const token = getToken();\n    console.log('GET TOKEN', typeof token);\n    return {\n      headers: {\n        authorization: token\n      }\n    };\n  }\n});\n\nconst Urql = ({\n  children\n}) => React.createElement(Provider, {\n  value: client,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 22\n  },\n  __self: this\n}, children);\n\nexport default Urql;","map":{"version":3,"sources":["/home/nil/Projects/mission-control-fe/mission-control-client/src/middleware/Urql.jsx"],"names":["React","Provider","Client","dedupExchange","fetchExchange","cacheExchange","normalizedCache","getToken","client","url","process","env","REACT_APP_URQL_URL","exchanges","fetchOptions","token","console","log","headers","authorization","Urql","children"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,MAAnB,EAA2BC,aAA3B,EAA0CC,aAA1C,QAA+D,MAA/D;AACA,SAASC,aAAa,IAAIC,eAA1B,QAAiD,2BAAjD;AACA,SAASC,QAAT,QAAyB,UAAzB,C,CAEA;AACA;;AACA,MAAMF,aAAa,GAAGC,eAAe,CAAC,EAAD,CAArC;AAEA,MAAME,MAAM,GAAG,IAAIN,MAAJ,CAAW;AACxBO,EAAAA,GAAG,EAAG,GAAEC,OAAO,CAACC,GAAR,CAAYC,kBAAmB,EADf;AAExBC,EAAAA,SAAS,EAAE,CAACV,aAAD,EAAgBE,aAAhB,EAA+BD,aAA/B,CAFa;AAGxBU,EAAAA,YAAY,EAAE,MAAM;AAClB,UAAMC,KAAK,GAAGR,QAAQ,EAAtB;AACAS,IAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ,EAAyB,OAAOF,KAAhC;AACA,WAAO;AACLG,MAAAA,OAAO,EAAE;AAAEC,QAAAA,aAAa,EAAEJ;AAAjB;AADJ,KAAP;AAGD;AATuB,CAAX,CAAf;;AAYA,MAAMK,IAAI,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAkB,oBAAC,QAAD;AAAU,EAAA,KAAK,EAAEb,MAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA0Ba,QAA1B,CAA/B;;AAEA,eAAeD,IAAf","sourcesContent":["import React from 'react';\nimport { Provider, Client, dedupExchange, fetchExchange } from 'urql';\nimport { cacheExchange as normalizedCache } from '@urql/exchange-graphcache';\nimport { getToken } from '../utils';\n\n// The @urql/exchange-graphcache dependency exposes a normalized cache\n// by default, the urql client comes pre-configured with a document cache.\nconst cacheExchange = normalizedCache({});\n\nconst client = new Client({\n  url: `${process.env.REACT_APP_URQL_URL}`,\n  exchanges: [dedupExchange, cacheExchange, fetchExchange],\n  fetchOptions: () => {\n    const token = getToken();\n    console.log('GET TOKEN', typeof token);\n    return {\n      headers: { authorization: token },\n    };\n  },\n});\n\nconst Urql = ({ children }) => <Provider value={client}>{children}</Provider>;\n\nexport default Urql;\n"]},"metadata":{},"sourceType":"module"}