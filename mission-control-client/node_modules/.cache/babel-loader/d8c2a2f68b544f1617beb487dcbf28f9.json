{"ast":null,"code":"import _slicedToArray from \"/home/nil/Projects/mission-control-fe/mission-control-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/nil/Projects/mission-control-fe/mission-control-client/src/components/ProjectListView/index.jsx\";\nimport React from 'react';\nimport { useQuery } from 'urql';\nimport gql from 'graphql-tag';\nimport { Link } from 'react-router-dom';\nimport mapTime from '../../mappers/mapTime';\nimport styles from '../../styles/projects.module.scss';\nconst FEED_QUERY = gql`\n  query {\n    products {\n      id\n      name\n      projects {\n        id\n        name\n        status\n        updatedAt\n        sectionLead {\n          id\n          name\n          role\n        }\n        teamLead {\n          id\n          name\n          role\n        }\n      }\n    }\n  }\n`;\n\nconst ProjectListView = ({\n  logout\n}) => {\n  const _useQuery = useQuery({\n    query: FEED_QUERY\n  }),\n        _useQuery2 = _slicedToArray(_useQuery, 1),\n        state = _useQuery2[0];\n\n  const data = state.data,\n        fetching = state.fetching;\n\n  const trimTime = str => {\n    const result = str.split('').slice(0, 10);\n    return result.join('');\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(\"button\", {\n    onClick: logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, \"Clicking Space\"), !fetching ? React.createElement(\"table\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(\"thead\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"Project Name\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Section Lead\"), React.createElement(\"th\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, \"Team Lead\"), React.createElement(\"th\", {\n    className: styles.rtd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, \"Last Updated\"), React.createElement(\"th\", {\n    className: styles.rtc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Status\"))), data.products.map(product => React.createElement(\"tbody\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"tr\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"td\", {\n    key: product.id,\n    className: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/\",\n    className: styles.title,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, product.name)), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, product.projects[0].sectionLead.name), React.createElement(\"td\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, product.projects[0].teamLead.name), React.createElement(\"td\", {\n    className: styles.rtd,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, product.projects[0].updatedAt), React.createElement(\"td\", {\n    className: styles.rtc,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, product.projects[0].status ? 'OK' : 'Fire'))))) : React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"fetching\"));\n};\n\nexport default ProjectListView;","map":{"version":3,"sources":["/home/nil/Projects/mission-control-fe/mission-control-client/src/components/ProjectListView/index.jsx"],"names":["React","useQuery","gql","Link","mapTime","styles","FEED_QUERY","ProjectListView","logout","query","state","data","fetching","trimTime","str","result","split","slice","join","rtd","rtc","products","map","product","id","title","name","projects","sectionLead","teamLead","updatedAt","status"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { useQuery } from 'urql';\nimport gql from 'graphql-tag';\nimport { Link } from 'react-router-dom';\nimport mapTime from '../../mappers/mapTime';\n\nimport styles from '../../styles/projects.module.scss';\n\nconst FEED_QUERY = gql`\n  query {\n    products {\n      id\n      name\n      projects {\n        id\n        name\n        status\n        updatedAt\n        sectionLead {\n          id\n          name\n          role\n        }\n        teamLead {\n          id\n          name\n          role\n        }\n      }\n    }\n  }\n`;\n\nconst ProjectListView = ({ logout }) => {\n  const [state] = useQuery({ query: FEED_QUERY });\n  const { data, fetching } = state;\n\n  const trimTime = str => {\n    const result = str.split('').slice(0, 10);\n\n    return result.join('');\n  };\n\n  return (\n    <div>\n      <button onClick={logout}>Clicking Space</button>\n      {!fetching ? (\n        <table>\n          <thead>\n            <tr>\n              <th>Project Name</th>\n              <th>Section Lead</th>\n              <th>Team Lead</th>\n              <th className={styles.rtd}>Last Updated</th>\n              <th className={styles.rtc}>Status</th>\n            </tr>\n          </thead>\n          {data.products.map(product => (\n            <tbody>\n              <tr>\n                <td key={product.id} className={styles.title}>\n                  <Link to=\"/\" className={styles.title}>\n                    {product.name}\n                  </Link>\n                </td>\n                <td>{product.projects[0].sectionLead.name}</td>\n                <td>{product.projects[0].teamLead.name}</td>\n                <td className={styles.rtd}>{product.projects[0].updatedAt}</td>\n                {/* <td className={styles.rtd}>Yesterday</td> */}\n                <td className={styles.rtc}>\n                  {product.projects[0].status ? 'OK' : 'Fire'}\n                </td>\n              </tr>\n            </tbody>\n          ))}\n        </table>\n      ) : (\n        <div>fetching</div>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectListView;\n"]},"metadata":{},"sourceType":"module"}